{% extends "layout.twig" %}
{% block body %}
    <div class="col-md-12">
        <div class="card card-primary">
            <div class="card-header">
                <h3 class="card-title">Edit order</h3>
            </div>
            <form action="/order/{{ order.id }}/save" method="post">
                <input name="clientId"
                       type="hidden"
                       value="{{ order.clientId }}">
                <div class="card-body">
                    <div class="form-group">
                        <label>Order ID</label>
                        {% if errors.orderId is defined %}
                            <input name="orderId"
                                   type="text"
                                   class="form-control is-invalid"
                                   value="{{ errors.orderId.value }}"
                                   placeholder="Order ID">
                            <span class="error invalid-feedback">{{ errors.orderId.message }}</span>
                        {% else %}
                            <input name="orderId"
                                   type="text"
                                   class="form-control"
                                   value="{{ orderId ?? order.orderId }}"
                                   id="exampleInputEmail1"
                                   placeholder="Order ID">
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label>Products Quantity</label>
                        {% if errors.orderProducts is defined %}
                            <input name="orderProducts"
                                   type="text"
                                   class="form-control is-invalid"
                                   value="{{ errors.orderProducts.value }}"
                                   placeholder="Products Quantity">
                            <span class="error invalid-feedback">{{ errors.orderProducts.message }}</span>
                        {% else %}
                            <input name="orderProducts"
                                   type="text"
                                   class="form-control"
                                   value="{{ products ?? order.products }}"
                                   id="exampleInputEmail1"
                                   placeholder="Products Quantity">
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label>Country</label>
                        <select name="country"
                                class="form-control select2 select2-hidden-accessible"
                                style="width: 100%;"
                                data-select2-id="1"
                                tabindex="-1"
                                aria-hidden="true">
                            <option value="select">-Please select country-</option>
                            {% for country in countries %}
                                <option value="{{ country.name }}"
                                        {% if order.country == country.name %}
                                            {{ "Selected" }}
                                        {% endif %}>
                                    {{ country.name }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Total Sum</label>
                        {% if errors.orderSum is defined %}
                            <input name="orderSum"
                                   type="text"
                                   class="form-control is-invalid"
                                   value="{{ errors.orderSum.value }}"
                                   placeholder="Order Sum">
                            <span class="error invalid-feedback">{{ errors.orderSum.message }}</span>
                        {% else %}
                            <input name="orderSum"
                                   type="text"
                                   class="form-control"
                                   value="{{ sum ?? order.sum }}"
                                   id="exampleInputEmail1"
                                   placeholder="Order Sum">
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label>Status</label>
                        <select name="status"
                                class="form-control select2 select2-hidden-accessible"
                                style="width: 100%;"
                                data-select2-id="1"
                                tabindex="-1"
                                aria-hidden="true">
                            <option value="select">-Please select status-</option>
                            {% for status in statuses %}
                                <option value="{{ status.name }}"
                                        {% if order.status == status.name %}
                                            {{ "Selected" }}
                                        {% endif %}>
                                    {{ status.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="card-footer">
                    <button type="submit" class="btn btn-primary">Submit</button>
                    <a href="/client/{{ order.clientId }}/profile" class="btn btn-default">Cancel</a>
                </div>
            </form>
        </div>
    </div>


{% endblock %}
